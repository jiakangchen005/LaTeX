% jiakang.sty

\ProvidesPackage{jiakang}

% mla = false
\newif\ifmla\mlafalse
% cmhb = false
\newif\ifcmhb\cmhbfalse

% set mla = true if specified
\DeclareOption{mla}{\mlatrue}
% set cmhb = true if specified
\DeclareOption{cmhb}{\cmhbtrue}

% execute the stuff above
\ProcessOptions\relax

% if mla == true
\ifmla
	% change font size to 12
	\documentclass[12pt]{article}

	% US letter paper (8.5in x 11in)
	% 1 inch margins on all sides
	\RequirePackage[paperwidth = 8.5in, paperheight = 11in, left = 1in, right = 1in, top = 1in, bottom = 1in]{geometry}

	% times new roman font
	\RequirePackage{mathptmx}

	% double space
	\RequirePackage[doublespacing]{setspace}

	% single spacing between sentences
	\frenchspacing

	% half inch indent
	\setlength\parindent{0.5in}

	% no Page Numbers
	\pagenumbering{gobble}
\fi

% if cmhb == true
\ifcmhb
	% asymptote, but better
	\RequirePackage{tikz}

	% tikz stuff (frame for picture)
	\usetikzlibrary{backgrounds}
	% angles and sides labeling
	\RequirePackage{tkz-euclide}
	% tkz-euclide refuses to work without this
	\usetkzobj{all}

	% grids and stuff like that
	\RequirePackage{array}

	% New Century Schoolbook font
	% aka fouriernc, but no math
	\RequirePackage{newcent}

	% links
	\RequirePackage{hyperref}

	% doesn't work without this
	\RequirePackage{mathtools}

	% cool boxes
	\RequirePackage{tcolorbox}

	% title formatting
	% [explicit] allows swapping the title text with the numbering
	\RequirePackage[explicit]{titlesec}

	% US letter paper (8.5in x 11in) + 1 inch margins on all sides
	% 'murica!
	\RequirePackage[paperwidth = 8.5in, paperheight = 11in, left = 1in, right = 1in, top = 1in, bottom = 1in]{geometry}

	% custom colors
	\RequirePackage{xcolor}

	\definecolor{blue}{RGB}{20, 150, 216}
	\definecolor{darkblue}{RGB}{10, 75, 108}
	\definecolor{green}{RGB}{61, 160, 0}
	\definecolor{orange}{RGB}{239, 127, 0}

	% newline command for programmers
	\newcommand{\n}{\vspace{0.2in}}

	% start each section (chapter) on a new page
	\newcommand{\sectionbreak}{\newpage}

	% Remove chapter part from subsection numbering
	\renewcommand{\thesubsection}{\arabic{section}.\arabic{subsection}}

	% meth functions
	\DeclareMathOperator{\arccsc}{arccsc}
	\DeclareMathOperator{\arcsec}{arcsec}
	\DeclareMathOperator{\arccot}{arccot}

	\DeclareMathOperator{\cis}{cis}

	\DeclareMathOperator{\realpart}{Re}
	\DeclareMathOperator{\imaginarypart}{Im}

	\DeclareMathOperator{\minimum}{min}
	\DeclareMathOperator{\maximum}{max}

	\DeclareMathOperator{\lcm}{lcm}

	% subsection commands
	\newenvironment{theorem}[1]
		% Begin
		{
			% Swap the subsection number with title name + change title color + change font of "subtitle"
			\titleformat{\subsection}{\normalfont\normalsize\bfseries\color{blue}}{##1 \thesubsection\space\normalfont\fontfamily{cmss}\selectfont #1}{0in}{}
			
			\begin{tcolorbox}[width = 1\linewidth, colframe = blue, colback = white, boxsep = 0.075in, arc = 0.15in, boxrule = 1pt]
				\subsection{Theorem}
		}
		% End
		{
			\end{tcolorbox}
			
			% Reset formatting of the title
			\titleformat{\subsection}{\normalfont\large\bfseries}{\thesubsection}{1em}{}
		}

	\newenvironment{corollary}[1]
		% Begin
		{
			% Swap the subsection number with title name + change title color + change font of "subtitle"
			\titleformat{\subsection}{\normalfont\normalsize\bfseries\color{darkblue}}{##1 \thesubsection\space\normalfont\fontfamily{cmss}\selectfont #1}{0in}{}
			
			\begin{tcolorbox}[width = 1\linewidth, colframe = darkblue, colback = white, boxsep = 0.075in, arc = 0.15in, boxrule = 1pt]
				\subsection{Corollary}
		}
		% End
		{
			\end{tcolorbox}
			
			% Reset formatting of the title
			\titleformat{\subsection}{\normalfont\large\bfseries}{\thesubsection}{1em}{}
		}

	\newenvironment{definition}[1]
		% Begin
		{
			% Swap the subsection number with title name + change title color + change font of "subtitle"
			\titleformat{\subsection}{\normalfont\normalsize\bfseries\color{green}}{##1 \thesubsection\space\normalfont\fontfamily{cmss}\selectfont #1}{0in}{}

			\begin{tcolorbox}[width = 1\linewidth, colframe = green, colback = white, boxsep = 0.075in, arc = 0.15in, boxrule = 1pt]
				\subsection{Definition}
		}
		% End
		{
			\end{tcolorbox}

			% Reset formatting of the title
			\titleformat{\subsection}{\normalfont\large\bfseries}{\thesubsection}{1em}{}
		}

	\newenvironment{example}[1]
		% Begin
		{
			% Swap the subsection number with title name + change title color + change font of "subtitle"
			\titleformat{\subsection}{\normalfont\normalsize\bfseries\color{orange}}{##1 \thesubsection\space\normalfont\fontfamily{cmss}\selectfont #1}{0in}{}

			\begin{tcolorbox}[width = 1\linewidth, colframe = orange, colback = white, boxsep = 0.075in, arc = 0in, boxrule = 1pt]
				\subsection{Example}
		}
		% End
		{
			\end{tcolorbox}
			
			% Reset formatting of the title
			\titleformat{\subsection}{\normalfont\large\bfseries}{\thesubsection}{1em}{}
		}
		
	\newenvironment{note}
		% Begin
		{
			% Swap the subsection number with title name + change title color
			\titleformat{\subsection}{\normalfont\normalsize\bfseries\color{black}}{##1 \thesubsection}{0in}{}

			\begin{tcolorbox}[width = 1\linewidth, colframe = black, colback = white, boxsep = 0.075in, arc = 0in, boxrule = 1pt]
				\subsection{Note}
		}
		% End
		{
			\end{tcolorbox}

			% Reset formatting of the title
			\titleformat{\subsection}{\normalfont\large\bfseries}{\thesubsection}{1em}{}
		}
\fi
